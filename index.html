<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gire a Chave - Portal Automotivo Comercial</title>
    <meta name="description" content="Portal especializado em veÃ­culos comerciais, carros, motos, caminhÃµes e Ã´nibus para empresas.">
    <meta name="keywords" content="veÃ­culos comerciais, carros, motos, caminhÃµes, Ã´nibus, frotas, empresas">
    <link rel="icon" type="image/png" href="./images/logos/favicon.ico">
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        .gallery-container {
            position: relative;
            overflow: hidden;
        }
        .gallery-main {
            width: 100%;
            height: 300px;
            object-fit: cover;
            border-radius: 8px;
            cursor: pointer;
            transition: transform 0.3s ease;
        }
        .gallery-main:hover {
            transform: scale(1.05);
        }
        .gallery-thumbs {
            display: flex;
            gap: 8px;
            margin-top: 12px;
            overflow-x: auto;
        }
        .gallery-thumb {
            width: 80px;
            height: 60px;
            object-fit: cover;
            border-radius: 4px;
            cursor: pointer;
            border: 2px solid transparent;
            transition: border-color 0.3s ease;
            flex-shrink: 0;
        }
        .gallery-thumb:hover {
            border-color: #FBBF24;
        }
        .gallery-thumb.active {
            border-color: #F59E0B;
        }
        .modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.9);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 1000;
        }
        .modal img {
            max-width: 90%;
            max-height: 90%;
            object-fit: contain;
        }
        .modal-nav {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            background: rgba(255, 255, 255, 0.2);
            border: none;
            color: white;
            font-size: 24px;
            padding: 12px 16px;
            cursor: pointer;
            border-radius: 50%;
            transition: background 0.3s ease;
        }
        .modal-nav:hover {
            background: rgba(255, 255, 255, 0.4);
        }
        .modal-prev {
            left: 20px;
        }
        .modal-next {
            right: 20px;
        }
        .modal-close {
            position: absolute;
            top: 20px;
            right: 20px;
            background: none;
            border: none;
            color: white;
            font-size: 32px;
            cursor: pointer;
        }
    </style>
</head>
<body class="bg-black text-white min-h-screen" style="background-image:./images/imagemblogfundo.png"; background-size: 600px 600px; background-repeat: repeat; opacity: 0.95;">
    <!-- Header -->
    <header class="bg-gradient-to-r from-yellow-400 to-yellow-600 text-black py-6 shadow-lg">
        <div class="max-w-6xl mx-auto px-4 flex justify-between items-center">
            <div class="flex items-center space-x-4">
                <img 
                    src="./images/Logo1Redesenhado.png" 
                    alt="Gire a Chave Logo" 
                    class="w-16 h-16 object-contain rounded-lg"
                />
                <div>
                    <h1 id="blogTitle" class="text-4xl font-bold">Gire a Chave</h1>
                    <p id="blogSubtitle" class="text-lg opacity-90">Seu portal automotivo comercial</p>
                </div>
            </div>
            <div class="flex items-center space-x-4">
                <!-- Language Selector -->
                <div class="flex space-x-2">
                    <button onclick="changeLanguage('pt')" id="langPt" class="px-3 py-1 rounded-full text-sm font-medium transition-colors bg-black text-yellow-400">
                        ðŸ‡§ðŸ‡· PortuguÃªs
                    </button>
                    <button onclick="changeLanguage('en')" id="langEn" class="px-3 py-1 rounded-full text-sm font-medium transition-colors bg-yellow-500 text-black hover:bg-yellow-600">
                        ðŸ‡ºðŸ‡¸ English
                    </button>
                    <button onclick="changeLanguage('es')" id="langEs" class="px-3 py-1 rounded-full text-sm font-medium transition-colors bg-yellow-500 text-black hover:bg-yellow-600">
                        ðŸ‡ªðŸ‡¸ EspaÃ±ol
                    </button>
                </div>
                <!-- Admin Toggle -->
                <div class="flex items-center space-x-2">
                    <button id="adminToggle" onclick="toggleAdmin()" class="bg-black text-yellow-400 px-4 py-2 rounded-lg hover:bg-gray-800 transition-colors">
                        Modo Admin
                    </button>
                </div>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="max-w-6xl mx-auto px-4 py-8">
        <!-- Categories Filter -->
        <div class="mb-8">
            <div class="bg-gray-900 rounded-lg border border-gray-700 p-6">
                <h2 id="categoriesTitle" class="text-2xl font-bold text-yellow-400 mb-4">Categorias</h2>
                <div class="flex flex-wrap gap-3">
                    <button onclick="filterCategory('all')" id="catAll" class="px-4 py-2 rounded-lg text-sm font-medium transition-colors bg-yellow-600 text-black">
                        Todos os VeÃ­culos
                    </button>
                    <button onclick="filterCategory('carros')" id="catCarros" class="px-4 py-2 rounded-lg text-sm font-medium transition-colors bg-gray-700 text-white hover:bg-gray-600">
                        Carros
                    </button>
                    <button onclick="filterCategory('motos')" id="catMotos" class="px-4 py-2 rounded-lg text-sm font-medium transition-colors bg-gray-700 text-white hover:bg-gray-600">
                        Motos
                    </button>
                    <button onclick="filterCategory('caminhoes')" id="catCaminhoes" class="px-4 py-2 rounded-lg text-sm font-medium transition-colors bg-gray-700 text-white hover:bg-gray-600">
                        CaminhÃµes
                    </button>
                    <button onclick="filterCategory('onibus')" id="catOnibus" class="px-4 py-2 rounded-lg text-sm font-medium transition-colors bg-gray-700 text-white hover:bg-gray-600">
                        Ã”nibus
                    </button>
                </div>
            </div>
        </div>

        <!-- Admin Panel -->
        <div id="adminPanel" class="mb-8 hidden">
            <div class="bg-gray-900 rounded-lg border border-gray-700 p-6">
                <h2 class="text-2xl font-bold text-yellow-400 mb-4">Nova Postagem</h2>
                <div class="space-y-4">
                    <!-- TÃ­tulos -->
                    <div class="grid grid-cols-1 lg:grid-cols-3 gap-4">
                        <div>
                            <label class="block text-sm font-medium text-gray-300 mb-2">TÃ­tulo (PortuguÃªs)</label>
                            <input type="text" id="newTitlePt" class="w-full px-4 py-2 bg-gray-800 border border-gray-600 rounded-lg text-white">
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-300 mb-2">Title (English)</label>
                            <input type="text" id="newTitleEn" class="w-full px-4 py-2 bg-gray-800 border border-gray-600 rounded-lg text-white">
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-300 mb-2">TÃ­tulo (EspaÃ±ol)</label>
                            <input type="text" id="newTitleEs" class="w-full px-4 py-2 bg-gray-800 border border-gray-600 rounded-lg text-white">
                        </div>
                    </div>
                    
                    <!-- ConteÃºdos -->
                    <div class="grid grid-cols-1 lg:grid-cols-3 gap-4">
                        <div>
                            <label class="block text-sm font-medium text-gray-300 mb-2">ConteÃºdo (PortuguÃªs)</label>
                            <textarea id="newContentPt" rows="4" class="w-full px-4 py-2 bg-gray-800 border border-gray-600 rounded-lg text-white"></textarea>
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-300 mb-2">Content (English)</label>
                            <textarea id="newContentEn" rows="4" class="w-full px-4 py-2 bg-gray-800 border border-gray-600 rounded-lg text-white"></textarea>
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-300 mb-2">Contenido (EspaÃ±ol)</label>
                            <textarea id="newContentEs" rows="4" class="w-full px-4 py-2 bg-gray-800 border border-gray-600 rounded-lg text-white"></textarea>
                        </div>
                    </div>
                    
                    <!-- Categoria -->
                    <div>
                        <label class="block text-sm font-medium text-gray-300 mb-2">Categoria</label>
                        <select id="newCategory" class="w-full px-4 py-2 bg-gray-800 border border-gray-600 rounded-lg text-white max-w-xs">
                            <option value="carros">Carros</option>
                            <option value="motos">Motos</option>
                            <option value="caminhoes">CaminhÃµes</option>
                            <option value="onibus">Ã”nibus</option>
                        </select>
                    </div>
                    
                    <!-- NOVO: 5 Campos de Imagem -->
                    <div>
                        <label class="block text-sm font-medium text-gray-300 mb-2">Imagens (atÃ© 5)</label>
                        <div class="grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-3">
                            <input type="text" id="newImage1" placeholder="Imagem 1 (Principal - ObrigatÃ³ria)" class="w-full px-3 py-2 bg-gray-800 border border-gray-600 rounded-lg text-white text-sm">
                            <input type="text" id="newImage2" placeholder="Imagem 2 (Opcional)" class="w-full px-3 py-2 bg-gray-800 border border-gray-600 rounded-lg text-white text-sm">
                            <input type="text" id="newImage3" placeholder="Imagem 3 (Opcional)" class="w-full px-3 py-2 bg-gray-800 border border-gray-600 rounded-lg text-white text-sm">
                            <input type="text" id="newImage4" placeholder="Imagem 4 (Opcional)" class="w-full px-3 py-2 bg-gray-800 border border-gray-600 rounded-lg text-white text-sm">
                            <input type="text" id="newImage5" placeholder="Imagem 5 (Opcional)" class="w-full px-3 py-2 bg-gray-800 border border-gray-600 rounded-lg text-white text-sm">
                        </div>
                        <p class="text-xs text-gray-400 mt-2">ðŸ’¡ Use caminhos como: ./images/posts/cronos-1.jpg ou URLs completas</p>
                    </div>
                    
                    <div class="flex space-x-4">
                        <button onclick="addPost()" class="bg-yellow-600 text-black px-6 py-2 rounded-lg hover:bg-yellow-700 transition-colors font-medium">
                            Salvar Postagem
                        </button>
                        <button onclick="clearForm()" class="bg-gray-600 text-white px-6 py-2 rounded-lg hover:bg-gray-700 transition-colors">
                            Limpar Campos
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Posts Container -->
        <div id="postsContainer" class="space-y-8">
            <!-- Posts will be loaded here -->
        </div>

        <!-- Empty State -->
        <div id="emptyState" class="text-center py-12 hidden">
            <div class="text-6xl mb-4">ðŸš—</div>
            <p class="text-gray-400 text-lg" id="emptyMessage">Nenhuma postagem encontrada</p>
        </div>
    </main>

    <!-- Image Modal -->
    <div id="imageModal" class="modal hidden">
        <button class="modal-close" onclick="closeModal()">&times;</button>
        <button class="modal-nav modal-prev" onclick="prevImage()">â€¹</button>
        <button class="modal-nav modal-next" onclick="nextImage()">â€º</button>
        <img id="modalImage" src="" alt="">
    </div>

    <!-- Footer -->
    <footer class="bg-gray-900 border-t border-gray-800 py-8 mt-16">
        <div class="max-w-6xl mx-auto px-4">
            <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
                <div>
                    <div class="flex items-center space-x-3 mb-4">
                        <img 
                            src="./images/logos/logo.png" 
                            alt="Gire a Chave" 
                            class="w-10 h-10 rounded"
                        />
                        <h3 id="footerTitle" class="text-xl font-bold text-yellow-400">Gire a Chave</h3>
                    </div>
                    <p id="footerDescription" class="text-gray-400">Seu portal especializado em veÃ­culos comerciais com as melhores informaÃ§Ãµes do mercado automotivo.</p>
                </div>
                <div>
                    <h4 class="text-lg font-semibold text-yellow-400 mb-3">Categorias</h4>
                    <ul class="space-y-2 text-gray-400">
                        <li><a href="#" onclick="filterCategory('carros')" class="hover:text-yellow-400 transition-colors">Carros</a></li>
                        <li><a href="#" onclick="filterCategory('motos')" class="hover:text-yellow-400 transition-colors">Motos</a></li>
                        <li><a href="#" onclick="filterCategory('caminhoes')" class="hover:text-yellow-400 transition-colors">CaminhÃµes</a></li>
                        <li><a href="#" onclick="filterCategory('onibus')" class="hover:text-yellow-400 transition-colors">Ã”nibus</a></li>
                    </ul>
                </div>
                <div>
                    <h4 class="text-lg font-semibold text-yellow-400 mb-3">Legal</h4>
                    <ul class="space-y-2 text-gray-400">
                        <li><a href="#" class="hover:text-yellow-400 transition-colors">PolÃ­tica de Privacidade</a></li>
                        <li><a href="#" class="hover:text-yellow-400 transition-colors">Termos de Uso</a></li>
                    </ul>
                </div>
            </div>
            <div class="border-t border-gray-800 mt-8 pt-8 text-center">
                <p class="text-gray-400">&copy; 2025 Gire a Chave. Todos os direitos reservados.</p>
            </div>
        </div>
    </footer>

    <script>
        // Global state
        let currentLanguage = 'pt';
        let selectedCategory = 'all';
        let isAdmin = false;
        let currentModal = { postId: null, imageIndex: 0 };

        // NOVA ESTRUTURA: Array de imagens por post
        let posts = [
            {
                id: 1,
                title: {
                    pt: 'Novos Fiat Cronos 2025: Ideal para Frotas Comerciais',
                    en: 'New Fiat Cronos 2025: Ideal for Commercial Fleets',
                    es: 'Nuevo Fiat Cronos 2025: Ideal para Flotas Comerciales'
                },
                content: {
                    pt: 'O Fiat Cronos 2025 chega ao mercado com importantes atualizaÃ§Ãµes que o tornam uma excelente opÃ§Ã£o para frotas comerciais. Com motor 1.3 Firefly mais eficiente, consumo mÃ©dio de 15,2 km/l na cidade e 16,8 km/l na estrada, oferece economia real para empresas. O porta-malas de 525 litros e o amplo espaÃ§o interno garantem praticidade para uso comercial. PreÃ§o sugerido a partir de R$ 89.990 para a versÃ£o Drive.',
                    en: 'The Fiat Cronos 2025 arrives on the market with important updates that make it an excellent option for commercial fleets. With a more efficient 1.3 Firefly engine, average consumption of 15.2 km/l in the city and 16.8 km/l on the road, it offers real savings for companies. The 525-liter trunk and spacious interior ensure practicality for commercial use. Suggested price from R$ 89,990 for the Drive version.',
                    es: 'El Fiat Cronos 2025 llega al mercado con importantes actualizaciones que lo convierten en una excelente opciÃ³n para flotas comerciales. Con motor 1.3 Firefly mÃ¡s eficiente, consumo promedio de 15,2 km/l en ciudad y 16,8 km/l en carretera, ofrece ahorro real para empresas. El maletero de 525 litros y el amplio espacio interior garantizan practicidad para uso comercial. Precio sugerido desde R$ 89.990 para la versiÃ³n Drive.'
                },
                category: 'carros',
                images: [
                    'https://images.unsplash.com/photo-1583121274602-3e2820c69888?w=800&h=400&fit=crop',
                    'https://images.unsplash.com/photo-1502877338535-766e1452684a?w=800&h=400&fit=crop',
                    'https://images.unsplash.com/photo-1558618666-fcd25c85cd64?w=800&h=400&fit=crop',
                    'https://images.unsplash.com/photo-1581244277943-fe4a9c777189?w=800&h=400&fit=crop'
                ],
                date: new Date().toLocaleDateString()
            },
            {
                id: 2,
                title: {
                    pt: 'Honda CB 600F Hornet 2025: Nova GeraÃ§Ã£o para Delivery',
                    en: 'Honda CB 600F Hornet 2025: New Generation for Delivery',
                    es: 'Honda CB 600F Hornet 2025: Nueva GeneraciÃ³n para Delivery'
                },
                content: {
                    pt: 'A nova Honda CB 600F Hornet 2025 chega renovada com foco no mercado de delivery e transporte urbano. Motor de 599cc refrigerado a lÃ­quido, consumo de 22 km/l, freios ABS e painel digital completo. Ideal para motoboys profissionais que precisam de confiabilidade e economia. PreÃ§o promocional de lanÃ§amento por R$ 42.900.',
                    en: 'The new Honda CB 600F Hornet 2025 arrives renewed with a focus on the delivery and urban transport market. 599cc liquid-cooled engine, consumption of 22 km/l, ABS brakes and complete digital panel. Ideal for professional motorcycle couriers who need reliability and economy. Launch promotional price for R$ 42,900.',
                    es: 'La nueva Honda CB 600F Hornet 2025 llega renovada con enfoque en el mercado de delivery y transporte urbano. Motor de 599cc refrigerado por lÃ­quido, consumo de 22 km/l, frenos ABS y panel digital completo. Ideal para motomensajeros profesionales que necesitan confiabilidad y economÃ­a. Precio promocional de lanzamiento por R$ 42.900.'
                },
                category: 'motos',
                images: [
                    'https://images.unsplash.com/photo-1558618666-fcd25c85cd64?w=800&h=400&fit=crop',
                    'https://images.unsplash.com/photo-1568772585407-9361f9bf3a87?w=800&h=400&fit=crop',
                    'https://images.unsplash.com/photo-1571068316344-75bc76f77890?w=800&h=400&fit=crop'
                ],
                date: new Date().toLocaleDateString()
            }
        ];

        // Translations
        const translations = {
            pt: {
                title: 'Gire a Chave',
                subtitle: 'Seu portal automotivo comercial',
                admin: 'Modo Admin',
                categories: 'Categorias',
                allVehicles: 'Todos os VeÃ­culos',
                cars: 'Carros',
                motorcycles: 'Motos',
                trucks: 'CaminhÃµes',
                buses: 'Ã”nibus',
                emptyMessage: 'Nenhuma postagem encontrada'
            },
            en: {
                title: 'Turn the Key',
                subtitle: 'Your commercial automotive portal',
                admin: 'Admin Mode',
                categories: 'Categories',
                allVehicles: 'All Vehicles',
                cars: 'Cars',
                motorcycles: 'Motorcycles',
                trucks: 'Trucks',
                buses: 'Buses',
                emptyMessage: 'No posts found'
            },
            es: {
                title: 'Gira la Llave',
                subtitle: 'Tu portal automotriz comercial',
                admin: 'Modo Admin',
                categories: 'CategorÃ­as',
                allVehicles: 'Todos los VehÃ­culos',
                cars: 'Coches',
                motorcycles: 'Motos',
                trucks: 'Camiones',
                buses: 'Autobuses',
                emptyMessage: 'No se encontraron publicaciones'
            }
        };

        // Language functions
        function changeLanguage(lang) {
            currentLanguage = lang;
            updateUI();
        }

        function updateUI() {
            const t = translations[currentLanguage];
            
            // Update header
            document.getElementById('blogTitle').textContent = t.title;
            document.getElementById('blogSubtitle').textContent = t.subtitle;
            document.getElementById('adminToggle').textContent = t.admin;
            document.getElementById('categoriesTitle').textContent = t.categories;
            document.getElementById('emptyMessage').textContent = t.emptyMessage;
            
            // Update language buttons
            ['langPt', 'langEn', 'langEs'].forEach((id, index) => {
                const langs = ['pt', 'en', 'es'];
                const button = document.getElementById(id);
                button.className = currentLanguage === langs[index] ? 
                    'px-3 py-1 rounded-full text-sm font-medium transition-colors bg-black text-yellow-400' :
                    'px-3 py-1 rounded-full text-sm font-medium transition-colors bg-yellow-500 text-black hover:bg-yellow-600';
            });
            
            // Update category buttons
            document.getElementById('catAll').textContent = t.allVehicles;
            document.getElementById('catCarros').textContent = t.cars;
            document.getElementById('catMotos').textContent = t.motorcycles;
            document.getElementById('catCaminhoes').textContent = t.trucks;
            document.getElementById('catOnibus').textContent = t.buses;
            
            // Update footer
            document.getElementById('footerTitle').textContent = t.title;
            
            renderPosts();
        }

        // Admin functions
        function toggleAdmin() {
            isAdmin = !isAdmin;
            document.getElementById('adminPanel').classList.toggle('hidden', !isAdmin);
        }

        function addPost() {
            // Collect image URLs (only non-empty ones)
            const images = [];
            for (let i = 1; i <= 5; i++) {
                const imageUrl = document.getElementById(`newImage${i}`).value.trim();
                if (imageUrl) {
                    images.push(imageUrl);
                }
            }

            // Require at least 1 image
            if (images.length === 0) {
                alert('Por favor, adicione pelo menos 1 imagem!');
                return;
            }

            const newPost = {
                id: Date.now(),
                title: {
                    pt: document.getElementById('newTitlePt').value,
                    en: document.getElementById('newTitleEn').value,
                    es: document.getElementById('newTitleEs').value
                },
                content: {
                    pt: document.getElementById('newContentPt').value,
                    en: document.getElementById('newContentEn').value,
                    es: document.getElementById('newContentEs').value
                },
                category: document.getElementById('newCategory').value,
                images: images, // Array de imagens
                date: new Date().toLocaleDateString()
            };
            
            posts.unshift(newPost);
            clearForm();
            renderPosts();
        }

        function clearForm() {
            document.getElementById('newTitlePt').value = '';
            document.getElementById('newTitleEn').value = '';
            document.getElementById('newTitleEs').value = '';
            document.getElementById('newContentPt').value = '';
            document.getElementById('newContentEn').value = '';
            document.getElementById('newContentEs').value = '';
            // Clear all image fields
            for (let i = 1; i <= 5; i++) {
                document.getElementById(`newImage${i}`).value = '';
            }
        }

        // Category filter functions
        function filterCategory(category) {
            selectedCategory = category;
            
            // Update button states
            const buttons = ['catAll', 'catCarros', 'catMotos', 'catCaminhoes', 'catOnibus'];
            const categories = ['all', 'carros', 'motos', 'caminhoes', 'onibus'];
            
            buttons.forEach((buttonId, index) => {
                const button = document.getElementById(buttonId);
                if (categories[index] === category) {
                    button.className = 'px-4 py-2 rounded-lg text-sm font-medium transition-colors bg-yellow-600 text-black';
                } else {
                    button.className = 'px-4 py-2 rounded-lg text-sm font-medium transition-colors bg-gray-700 text-white hover:bg-gray-600';
                }
            });
            
            renderPosts();
        }

        // Gallery functions
        function changeMainImage(postId, imageIndex) {
            const mainImg = document.getElementById(`mainImg-${postId}`);
            const post = posts.find(p => p.id === postId);
            const thumbs = document.querySelectorAll(`[data-post="${postId}"][data-thumb]`);
            
            if (post && post.images[imageIndex]) {
                mainImg.src = post.images[imageIndex];
                
                // Update thumb active state
                thumbs.forEach((thumb, index) => {
                    thumb.classList.toggle('active', index === imageIndex);
                });
            }
        }

        function openModal(postId, imageIndex) {
            const post = posts.find(p => p.id === postId);
            if (post && post.images[imageIndex]) {
                currentModal = { postId, imageIndex };
                document.getElementById('modalImage').src = post.images[imageIndex];
                document.getElementById('imageModal').classList.remove('hidden');
                document.body.style.overflow = 'hidden';
            }
        }

        function closeModal() {
            document.getElementById('imageModal').classList.add('hidden');
            document.body.style.overflow = 'auto';
        }

        function prevImage() {
            const post = posts.find(p => p.id === currentModal.postId);
            if (post) {
                currentModal.imageIndex = currentModal.imageIndex > 0 ? 
                    currentModal.imageIndex - 1 : 
                    post.images.length - 1;
                document.getElementById('modalImage').src = post.images[currentModal.imageIndex];
            }
        }

        function nextImage() {
            const post = posts.find(p => p.id === currentModal.postId);
            if (post) {
                currentModal.imageIndex = currentModal.imageIndex < post.images.length - 1 ? 
                    currentModal.imageIndex + 1 : 
                    0;
                document.getElementById('modalImage').src = post.images[currentModal.imageIndex];
            }
        }

        // Close modal on ESC key
        document.addEventListener('keydown', function(e) {
            if (e.key === 'Escape') {
                closeModal();
            } else if (e.key === 'ArrowLeft') {
                prevImage();
            } else if (e.key === 'ArrowRight') {
                nextImage();
            }
        });

        // Render posts with gallery
        function renderPosts() {
            const filteredPosts = selectedCategory === 'all' ? posts : posts.filter(post => post.category === selectedCategory);
            const container = document.getElementById('postsContainer');
            const emptyState = document.getElementById('emptyState');
            
            if (filteredPosts.length === 0) {
                container.innerHTML = '';
                emptyState.classList.remove('hidden');
                return;
            }
            
            emptyState.classList.add('hidden');
            
            container.innerHTML = filteredPosts.map(post => {
                const mainImage = post.images[0];
                const hasMultipleImages = post.images.length > 1;
                
                return `
                    <article class="bg-gray-900 rounded-lg border border-gray-700 overflow-hidden hover:border-yellow-400 transition-all duration-300">
                        <!-- Gallery Section -->
                        <div class="gallery-container">
                            <img 
                                id="mainImg-${post.id}"
                                src="${mainImage}" 
                                alt="${post.title[currentLanguage]}" 
                                class="gallery-main"
                                onclick="openModal(${post.id}, 0)"
                            />
                            ${hasMultipleImages ? `
                                <div class="gallery-thumbs px-6 pb-4">
                                    ${post.images.map((img, index) => `
                                        <img 
                                            src="${img}" 
                                            alt="Imagem ${index + 1}"
                                            class="gallery-thumb ${index === 0 ? 'active' : ''}"
                                            data-post="${post.id}"
                                            data-thumb="${index}"
                                            onclick="changeMainImage(${post.id}, ${index})"
                                        />
                                    `).join('')}
                                </div>
                            ` : ''}
                        </div>
                        
                        <!-- Content Section -->
                        <div class="p-6">
                            <div class="flex items-center justify-between mb-3">
                                <span class="bg-yellow-600 text-black px-3 py-1 rounded-full text-sm font-medium">
                                    ${getCategoryName(post.category)}
                                </span>
                                <div class="flex items-center space-x-2">
                                    <span class="text-gray-400 text-sm">${post.date}</span>
                                    <span class="bg-gray-700 text-gray-300 px-2 py-1 rounded text-xs">
                                        ${post.images.length} ${post.images.length === 1 ? 'imagem' : 'imagens'}
                                    </span>
                                </div>
                            </div>
                            <h2 class="text-xl font-bold text-white mb-3 hover:text-yellow-400 transition-colors">
                                ${post.title[currentLanguage]}
                            </h2>
                            <p class="text-gray-300 leading-relaxed">
                                ${post.content[currentLanguage]}
                            </p>
                            ${isAdmin ? `
                            <div class="mt-4 flex space-x-2">
                                <button onclick="deletePost(${post.id})" class="bg-red-600 text-white px-3 py-1 rounded text-sm hover:bg-red-700 transition-colors">
                                    Excluir
                                </button>
                            </div>
                            ` : ''}
                        </div>
                    </article>
                `;
            }).join('');
        }

        function getCategoryName(category) {
            const categoryNames = {
                pt: { carros: 'Carros', motos: 'Motos', caminhoes: 'CaminhÃµes', onibus: 'Ã”nibus' },
                en: { carros: 'Cars', motos: 'Motorcycles', caminhoes: 'Trucks', onibus: 'Buses' },
                es: { carros: 'Coches', motos: 'Motos', caminhoes: 'Camiones', onibus: 'Autobuses' }
            };
            
            return categoryNames[currentLanguage][category] || category;
        }

        function deletePost(id) {
            posts = posts.filter(post => post.id !== id);
            renderPosts();
        }

        // Initialize
        document.addEventListener('DOMContentLoaded', function() {
            updateUI();
        });
    </script>
</body>
</html>
